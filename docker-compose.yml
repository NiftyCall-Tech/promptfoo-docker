# Promptfoo self-hosted UI â€“ evals and sharing at http://localhost:3000
# API keys: set in .env (copy from .env.example). Full provider list:
# https://www.promptfoo.dev/docs/providers/

services:
  promptfoo_container:
    image: ghcr.io/promptfoo/promptfoo:latest
    container_name: promptfoo_container
    ports:
      - '3000:3000'
    volumes:
      - ./promptfoo_data:/home/promptfoo/.promptfoo
    env_file:
      - .env
    environment:
      - PROMPTFOO_SHARE_CHUNK_SIZE=${PROMPTFOO_SHARE_CHUNK_SIZE:-10}
      # Common provider API keys (add more in .env; see .env.example and docs link above)
      - OPENAI_API_KEY=${OPENAI_API_KEY:-}
      - ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY:-}
      - GOOGLE_API_KEY=${GOOGLE_API_KEY:-}
      - AZURE_OPENAI_API_KEY=${AZURE_OPENAI_API_KEY:-}
      - OPENROUTER_API_KEY=${OPENROUTER_API_KEY:-}
      - DEEPSEEK_API_KEY=${DEEPSEEK_API_KEY:-}
      - MISTRAL_API_KEY=${MISTRAL_API_KEY:-}
      - GROQ_API_KEY=${GROQ_API_KEY:-}
      - COHERE_API_KEY=${COHERE_API_KEY:-}
      - HUGGINGFACE_HUB_API_KEY=${HUGGINGFACE_HUB_API_KEY:-}
      - PERPLEXITY_API_KEY=${PERPLEXITY_API_KEY:-}
      - REPLICATE_API_TOKEN=${REPLICATE_API_TOKEN:-}
      - XAI_API_KEY=${XAI_API_KEY:-}
# Optional: use a named volume instead of ./promptfoo_data:
#   volumes:
#     promptfoo_data:
#       driver: local
# and in the service: - promptfoo_data:/home/promptfoo/.promptfoo